# 必须关注的点

## useEffect的执行时间点

When you update the state, React will first call your component functions to calculate what should be on the screen. Then React will “commit” these changes to the DOM, updating the screen. Then React will run your Effects. If your Effect also immediately updates the state, this restarts the whole process from scratch!

当你更新了state，React首先会调用你的组建函数去计算屏幕上要显示什么。然后React将会“commit”这些改变去DOM，更新屏幕。然后React执行Effects。如果你的Effect耶立刻更新了state，他将立刻重头开始完整的流程。

---

==官方文档==

<https://react.dev/learn/you-might-not-need-an-effect#how-to-remove-unnecessary-effects>

## 组建设计方法

You can either build “top down” by starting with building the components higher up in the hierarchy (like FilterableProductTable) or “bottom up” by working from components lower down (like ProductRow). In simpler examples, it’s usually easier to go top-down, and on larger projects, it’s easier to go bottom-up.

你可以使用“自顶向下”的构建方法，从层次结构较高的组建开始构建（像FilterableProductTable组建），或者使用“自下向上”的构建方法，从层级结构较低的组建开始工作（像ProductRow组建）。在这个简单的例子中，使用自顶向下更容易，在更大的项目中，使用自下向上更容易。

---

==官方文档==

<https://react.dev/learn/thinking-in-react#step-2-build-a-static-version-in-react>
